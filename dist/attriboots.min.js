/**
 * attriboots@0.0.9
 * https://github.com/okitu/attriboots
 *
 * @license
 *
 * MIT License
 * 
 * Copyright (c) 2017 David Sch√§fer
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * @license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.attriboots=t.attriboots||{})}(this,function(t){"use strict";var e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},s=function(){function t(){e(this,t)}return i(t,null,[{key:"linear",value:function(t,e,i,n){return i*t/n+e}},{key:"inQuad",value:function(t,e,i,n){return t/=n,i*t*t+e}},{key:"outQuad",value:function(t,e,i,n){return t/=n,-i*t*(t-2)+e}},{key:"inOutQuad",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)}},{key:"inCubic",value:function(t,e,i,n){return t/=n,i*t*t*t+e}},{key:"outCubic",value:function(t,e,i,n){return t/=n,t--,i*(t*t*t+1)+e}},{key:"inOutCubic",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t+e:(t-=2,i/2*(t*t*t+2)+e)}},{key:"inQuart",value:function(t,e,i,n){return t/=n,i*t*t*t*t+e}},{key:"outQuart",value:function(t,e,i,n){return t/=n,t--,-i*(t*t*t*t-1)+e}},{key:"inOutQuart",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t+e:(t-=2,-i/2*(t*t*t*t-2)+e)}},{key:"inQuint",value:function(t,e,i,n){return t/=n,i*t*t*t*t*t+e}},{key:"outQuint",value:function(t,e,i,n){return t/=n,t--,i*(t*t*t*t*t+1)+e}},{key:"inOutQuint",value:function(t,e,i,n){return(t/=n/2)<1?i/2*t*t*t*t*t+e:(t-=2,i/2*(t*t*t*t*t+2)+e)}},{key:"inSine",value:function(t,e,i,n){return-i*Math.cos(t/n*(Math.PI/2))+i+e}},{key:"outSine",value:function(t,e,i,n){return i*Math.sin(t/n*(Math.PI/2))+e}},{key:"inOutSine",value:function(t,e,i,n){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}},{key:"inExpo",value:function(t,e,i,n){return i*Math.pow(2,10*(t/n-1))+e}},{key:"outExpo",value:function(t,e,i,n){return i*(1-Math.pow(2,-10*t/n))+e}},{key:"inOutExpo",value:function(t,e,i,n){return(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e:(t--,i/2*(2-Math.pow(2,-10*t))+e)}},{key:"inCirc",value:function(t,e,i,n){return t/=n,-i*(Math.sqrt(1-t*t)-1)+e}},{key:"outCirc",value:function(t,e,i,n){return t/=n,t--,i*Math.sqrt(1-t*t)+e}},{key:"inOutCirc",value:function(t,e,i,n){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,i/2*(Math.sqrt(1-t*t)+1)+e)}}]),t}(),o=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i.id,r=void 0===n?null:n,o=i.enabled,a=void 0===o||o,u=i.ignoreBounds,h=void 0!==u&&u,c=i.animationTime,_=void 0===c?300:c,l=i.easing,f=void 0===l?s.outQuad:l,g=i.locked,d=void 0!==g&&g;if(e(this,t),this.constructor===t)throw new TypeError("BaseAttriboot is an abstract class and cannot be instantiated directly.");this._id=r,this.enabled=a,this.locked=d,this.ignoreBounds=h,this.animationTime=_,this.easing=f,this._updated=!1}return i(t,[{key:"update",value:function(){return!1}},{key:"updateImmediate",value:function(){return!1}},{key:"stop",value:function(){return!1}},{key:"addEventListener",value:function(t,e){this._listeners||(this._listeners={}),t in this._listeners||(this._listeners[t]=[]),this._listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this._listeners)for(var i=this._listeners[t],n=0,r=i.length;n<r;n++)if(i[n]===e)return void i.splice(n,1)}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){if(!(t.type in this._listeners))return!0;var e=this._listeners[t.type];t.target=this;for(var i=0,n=e.length;i<n;i++)e[i].call(this,t);return!t.defaultPrevented}}},{key:"_triggerUpdate",value:function(){this.dispatchEvent({type:"update",value:this._current})}},{key:"_triggerChange",value:function(t,e){this.dispatchEvent({type:"change",property:t,value:e}),this.dispatchEvent({type:"change:"+t,value:e})}},{key:"id",get:function(){return this._id},set:function(t){if("string"!=typeof t)throw new TypeError('"id" must be a string');t!=this._id&&(this._id=t,this._triggerChange("id",this._id))}},{key:"dirty",get:function(){return this._current!=this._target}},{key:"enabled",get:function(){return this._enabled},set:function(t){if("boolean"!=typeof t)throw new TypeError('"enabled" must be a boolean');t!=this._enabled&&(this._enabled=t,this._triggerChange("enabled",this._enabled))}},{key:"ignoreBounds",get:function(){return this._ignoreBounds},set:function(t){if("boolean"!=typeof t)throw new TypeError('"ignoreBounds" must be a boolean');t!=this._ignoreBounds&&(this._ignoreBounds=t,this._triggerChange("ignoreBounds",this._ignoreBounds))}},{key:"locked",get:function(){return this._locked},set:function(t){if("boolean"!=typeof t)throw new TypeError('"locked" must be a boolean');t!=this._locked&&(this._locked=t,this._triggerChange("locked",this._locked))}},{key:"animationTime",get:function(){return this._animationTime},set:function(t){if("number"!=typeof t||isNaN(t))throw new TypeError('"animationTime" must be a number');t!=this._animationTime&&(this._animationTime=Math.abs(t),this._triggerChange("animationTime",this._animationTime),0===this._animationTime&&this.dirty&&this.updateImmediate())}},{key:"easing",get:function(){return this._easing},set:function(t){if("function"!=typeof t)throw new TypeError('"easing" must be a function!');t!=this._easing&&(this._easing=t,this._triggerChange("easing",this._easing))}},{key:"updated",get:function(){return this._updated}}],[{key:"Easing",get:function(){return s}}]),t}(),a=function(t){function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.target,n=void 0===i?0:i,o=t.min,a=void 0===o?Number.NEGATIVE_INFINITY:o,u=t.max,h=void 0===u?Number.POSITIVE_INFINITY:u,c=t.exclusiveMin,_=void 0!==c&&c,l=t.exclusiveMax,f=void 0!==l&&l,g=t.exclusivePrecision,d=void 0===g?Math.pow(10,-16):g;e(this,s);var p=r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments));return p._target=null,p._lastTarget=0,p._current=0,p._previous=0,p._raw=0,p._stored=0,p.min=a,p.max=h,p.exclusiveMin=_,p.exclusiveMax=f,p.exclusivePrecision=d,p.apply(n),p}return n(s,t),i(s,[{key:"_clamp",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments[5];return e===i?e:t<=e?n?e+s:e:t>=i?r?i-s:i:t}},{key:"update",value:function(t){if(void 0===t)t=Date.now()-this._startTime;else{if("number"!=typeof t||t<0||isNaN(t))throw new TypeError('"delta" must be a positive number');t=Math.round(Math.abs(t))}if(this.dirty){this._previous=this._current,this._currentTime+=t;var e=Math.min((this._currentTime-this._startTime)/(this._targetTime-this._startTime),1);this._current=this.easing(e,this._start,this._target-this._start,1),this._updated=!0}else this._updated=!1;return this._updated&&this._triggerUpdate(),this._updated}},{key:"updateImmediate",value:function(){return this.dirty?(this._previous=this._current,this._current=this._target,this._updated=!0):this._updated=!1,this._updated&&this._triggerUpdate(),this._updated}},{key:"stop",value:function(){var t;return this.dirty?(this._lastTarget=this._target,this._target=this._current,t=!0):t=!1,t&&this._triggerChange(),t}},{key:"apply",value:function(t){this.target=t,this.updateImmediate()}},{key:"addOffset",value:function(t){if("number"!=typeof t||isNaN(t))throw new TypeError('"offset" must be a number');if(!this.locked&&0!==t){this.target+=t;var e=this._target-this._lastTarget;0!==e&&(this._start+=e,this._current+=e,this._updated=!0,this._triggerUpdate())}}},{key:"store",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;if("number"!=typeof t)throw new TypeError('"value" must be a number');this._stored=isNaN(t)?this.target:t}},{key:"restore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("boolean"!=typeof t)throw new TypeError('"ignoreLock" must be a boolean');var e=this._locked;t&&(this._locked=!1),this.target=this.stored,this._locked=e}},{key:"raw",get:function(){return this._raw}},{key:"target",get:function(){return this._target},set:function(t){if("number"!=typeof t||isNaN(t))throw new TypeError('"target" must be a number');this._locked||(this._raw=t,this._ignoreBounds||(t=this._clamp(t,this._min,this._max,this._exclusiveMin,this._exclusiveMax,this._exclusivePrecision)),t!=this._target&&(this._lastTarget=this._target,this._start=this.current,this._startTime=this._currentTime=Date.now(),this._target=t,this._targetTime=Date.now()+this._animationTime,this._triggerChange("target",this._target),0===this._animationTime&&this.updateImmediate()))}},{key:"lastTarget",get:function(){return this._lastTarget}},{key:"current",get:function(){return this._current}},{key:"previous",get:function(){return this._previous}},{key:"min",get:function(){return this._min},set:function(t){if(null!==t&&void 0!==t||(t=Number.NEGATIVE_INFINITY),"number"!=typeof t||isNaN(t))throw new TypeError('"min" must be a number');t>=this._max&&(t=this.exclusiveMax?this.max-this.exclusivePrecision:this.max),t!=this._min&&(this._min=t,this._triggerChange("min",this._min),this.target=this._raw)}},{key:"max",get:function(){return this._max},set:function(t){if(null!==t&&void 0!==t||(t=Number.POSITIVE_INFINITY),"number"!=typeof t||isNaN(t))throw new TypeError('"max" must be a number');t<=this._min&&(t=this.exclusiveMin?this.min+this.exclusivePrecision:this.min),t!=this._max&&(this._max=t,this._triggerChange("max",this._max),this.target=this._raw)}},{key:"exclusiveMin",get:function(){return this._exclusiveMin},set:function(t){if("boolean"!=typeof t)throw new TypeError('"exclusiveMin" must be a boolean');t!=this._exclusiveMin&&(this._exclusiveMin=t,this._triggerChange("exclusiveMin",this._exclusiveMin),this.target=this._raw)}},{key:"exclusiveMax",get:function(){return this._exclusiveMax},set:function(t){if("boolean"!=typeof t)throw new TypeError('"exclusiveMax" must be a boolean');t!=this._exclusiveMax&&(this._exclusiveMax=t,this._triggerChange("exclusiveMax",this._exclusiveMax),this.target=this._raw)}},{key:"exclusivePrecision",get:function(){return this._exclusivePrecision},set:function(t){if("number"!=typeof t||isNaN(t))throw new TypeError('"exclusivePrecision" must be a number');t!=this._exclusivePrecision&&(this._exclusivePrecision=t,this._triggerChange("exclusivePrecision",this._exclusivePrecision))}},{key:"stored",get:function(){return this._stored}}]),s}(o),u=function(t){function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.shortRotation,n=void 0!==i&&i,o=t.wrap,a=void 0!==o&&o;e(this,s);var u=r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments));return u._shortRotation=n,u._wrap=a,u}return n(s,t),i(s,[{key:"getTargetRadians",value:function(){return this.target*Math.PI/180}},{key:"getCurrentRadians",value:function(){return this.current*Math.PI/180}},{key:"_applyShortRotation",value:function(){for(;this._start-this._target>180;)this._start-=360;for(;this._start-this._target<-180;)this._start+=360}},{key:"_wrapTo360",value:function(t){if(t>360)return t%360;for(;t<0;)t+=360;return t}},{key:"current",get:function(){return this._wrap?this._wrapTo360(this._current):this._current}},{key:"target",get:function(){return this._wrap?this._wrapTo360(this._target):this._target},set:function(t){if("number"!=typeof t||isNaN(t))throw new TypeError('"target" must be a number');this._locked||(this._raw=t,this._ignoreBounds||(t=this._clamp(t,this._min,this._max,this._exclusiveMin,this._exclusiveMax)),t!=this._target&&(this._lastTarget=this._target,this._start=this.current,this._startTime=this._currentTime=Date.now(),this._target=t,this._targetTime=Date.now()+this._animationTime,this._wrap&&this._shortRotation&&this._applyShortRotation(),this._triggerChange("target",this._target),0===this._animationTime&&this.updateImmediate()))}},{key:"wrap",get:function(){return this._wrap},set:function(t){if("boolean"!=typeof t)throw new TypeError('"wrap" must be a boolean');t!=this._wrap&&(this._wrap=t,this._triggerChange("wrap",this._wrap))}},{key:"shortRotation",get:function(){return this._shortRotation},set:function(t){if("boolean"!=typeof t)throw new TypeError('"shortRotation" must be a boolean');t!=this._shortRotation&&(this._shortRotation=t,this._triggerChange("shortRotation",this._shortRotation))}}]),s}(a);t.Easing=s,t.NumberAttriboot=a,t.AngleAttriboot=u,Object.defineProperty(t,"__esModule",{value:!0})});